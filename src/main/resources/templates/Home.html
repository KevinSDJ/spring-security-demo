<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head>
    <meta charset="ISO-8859-1">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <title>Home</title>
</head>
<body class="bg-gray-300">
     <h1 class="text-center mt-20 text-3xl text-gray-600">View All users</h1>
     <div class="bg-green-300 text-green-700" th:if="${success}">
         <p th:text="${success}"></p>
     </div>
     <div class="bg-red-300 text-red-700" th:if="${error}">
         <p th:text="${error}"></p>
     </div>
     <div class="base:w-full sm:w-5/6 md:w-5/6 lg:w-4/6 xl:w:4/6 2xl:w-4/6 my-10 mx-auto">
        <div class="flex justify-between">
            <div class="rounded-md truncate bg-green-600 text-gray-100 flex items-center justify-items-stretch w-fit">
                <span class="py-1 px-4 text-sm font-semibold ">Add new</span>
                <a class="transition-all duration-300 py-2 px-3 bg-green-800 hover:bg-green-500 " th:href="@{/users/new}"><i class="fa-solid fa-plus"></i></a>
            </div>
            <div class="relative r-0 rounded-md truncate bg-blue-600 text-gray-100 flex items-center justify-items-stretch w-fit">
               <span class="py-1 px-4 text-sm font-semibold ">logout</span>
               <a class="transition-all duration-300 py-2 px-3 bg-blue-800 hover:bg-blue-500 " th:href="@{/auth/logout}"><i class="fa-solid fa-arrow-right-from-bracket"></i></a>
           </div>
        </div>
         <table class="w-full mt-2">
             <thead class="bg-gray-600 font-normal">
             <tr class="text-left">
                 <th class="border-2 border-gray-300 py-1 px-3 text-gray-200">Username</th>
                 <th class="border-2 border-gray-300 py-1 px-3 text-gray-200">Email</th>
                 <th class="border-2 border-gray-300 py-1 px-3 text-gray-200">Rol</th>
                 <th class="border-2 border-gray-300 py-1 px-3 text-gray-200" colspan="2" >Actions</th>
             </tr>
             </thead>
             <tbody>
             <tr th:each="user :${users}">
                 <th class="border-2  border-gray-300 bg-gray-200 text-sm text-gray-600" th:text="${user.username}"></th>
                 <th class="border-2  border-gray-300 bg-gray-200  text-sm text-gray-600" th:text="${user.email}"></th>
                 <th class="border-2 border-gray-300 bg-gray-200 text-sm text-gray-600" th:text="${user.role}"></th>
                 <th class="w-24">
                     <a
                             th:href="@{/users/edit/{id}(id=${user.id})}"
                             class="
                             rounded-md
                             border-x-cyan-500
                             transition-all duration-300
                             py-1 px-8
                   border-2
                   bg-cyan-500
                   text-gray-100
                   text-md
                   hover:text-cyan-500
                   hover:bg-gray-100
                   hover:border-2
                   hover:border-cyan-500"
                     >edit</a>
                 </th>
                 <th class="w-24 transition-all duration-300">
                     <a
                             th:href="@{/users/{id}(id=${user.id})}"
                             class="
                             rounded-md
                             border-x-red-500
                             transition-all duration-300
                           py-1 px-8 border-2
                           bg-red-500
                           text-gray-100
                           text-md
                           hover:text-red-500
                           hover:bg-gray-100
                           hover:border-2
                           hover:border-red-500"
                     >delete</a>
                 </th>
             </tr>
             </tbody>
         </table>
     </div>
   <!--<script defer src="static/js/home.js"></script>-->
</body>
</html>